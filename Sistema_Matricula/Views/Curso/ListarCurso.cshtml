@model IEnumerable<Sistema_Matricula.Models.Curso>

@{
    ViewData["Title"] = "ListarCurso";
}

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>
            Cursos
        </title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5/5hb5gLl1PLTT3/rxxqOWP5PlJp/5hb5gLl1PLTT3r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    </head>
    <body style="align-content:start; margin-left:280px; margin-top:20px; background:#E5E5E5">
    

    <div id="agregar-curso">

    </div>
    @* <a id="boton_modal" class="bg-green-500 hover:bg-green-400 text-white font-bold py-2 px-4 border-b-4 border-green-700 hover:border-green-500 rounded ml-1 mt-2 no-underline  flex items-center justify-center w-25">
        <span class="material-symbols-outlined">
            book_5
        </span>
    </a> *@
    <div class="layout-content-container flex flex-col flex-1">
        <div class="px-4 py-3 mx-auto max-w-4xl">
            <div class="overflow-x-auto rounded-xl border border-[#D5D6DD] bg-[#F9FAFA]">
                <table class="min-w-full">
                    <thead>
                        <tr class="bg-[#FCA311]">
                            <th class="px-4 py-3 text-left text-[#FFFFFF] text-sm font-medium leading-normal">Id</th>
                            <th class="px-4 py-3 text-left text-[#FFFFFF] text-sm font-medium leading-normal">Nombre</th>
                            <th class="px-4 py-3 text-left text-[#FFFFFF] text-sm font-medium leading-normal">Mantenimiento</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr class="border-t border-t-[#D5D6DD]">
                                <td class="h-[72px] px-4 py-2 text-sm font-normal leading-normal">@Html.DisplayFor(modelItem => item.IdCurso)</td>
                                <td class="h-[72px] px-4 py-2 text-sm font-normal leading-normal">@Html.DisplayFor(modelItem => item.Nombre)</td>
                                <td class="h-[72px] px-4 py-2 text-sm font-normal leading-normal">
                                    <div class="flex justify-center space-x-2">
                                        <a href="#" class="flex justify-center items-center w-8 text-[#212141] bg-green-300 px-2 py-2 rounded hover:bg-green-500 transition-colors duration-300 no-underline">
                                            <span class="material-symbols-outlined text-white text-lg">check</span>
                                        </a>
                                        <a href="@Url.Action("EliminarCurso", "Curso", new { id = item.IdCurso })" data-id="@item.IdCurso" class="eliminarestudiante flex justify-center items-center w-8 text-[#212141] bg-red-500 px-2 py-2 rounded hover:bg-red-600 transition-colors duration-300 no-underline">
                                            <span class="material-symbols-outlined text-white text-lg">delete_forever</span>
                                        </a>
                                        <a href="@Url.Action("EditarCurso", "Curso", new { id = item.IdCurso })" class="activar-estudiante flex justify-center items-center w-8 text-[#212141] bg-yellow-300 px-2 py-2 rounded hover:bg-yellow-500 transition-colors duration-300 no-underline" @* data-id="@item.idestudiante" *@ href="#">
                                            <span class="material-symbols-outlined text-white text-lg">edit</span>
                                        </a>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>


            </div>
        </div>
    </div>


    @* <div class="modal fade bg-green" id="agregarCursoModal" tabindex="-1" aria-labelledby="agregarProveedorModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white" style="font-size: 45px" id="agregarProveedorModalLabel">Agregar Curso</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    @await Component.InvokeAsync("AgregarCurso")
                </div>
            </div>
        </div>
    </div> *@
    
    </body>
</html>
<style>
    body {
        margin-left: 120px;
    }
</style>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // $('#boton_modal').click(function () {
        //     $('#agregarCursoModal').modal('show');

        // });

        // document.body.addEventListener('click', function (event) {
        //     const target = event.target.closest('.eliminarestudiante');

        //     if (target) {
        //         event.preventDefault();
        //         const idCurso = target.dataset.id;

        //         fetch('/Curso/EliminarCurso', {
        //             method: 'DELETE',
        //             headers: {
        //                 'Content-Type': 'application/json'
        //             },
        //             body: JSON.stringify({ idCurso: idCurso }) // Envía el idCurso como un objeto JSON
        //         })
        //             .then(response => {
        //                 if (response.ok) {
        //                     // Eliminación exitosa, puedes recargar la página o actualizar la tabla
        //                     window.location.reload();
        //                 } else {
        //                     // Manejo de errores
        //                     console.error('Error al eliminar el curso');
        //                     response.json().then(data => {
        //                         console.error('Detalles del error:', data);
        //                     });
        //                 }
        //             })
        //             .catch(error => {
        //                 console.error('Error:', error);
        //             });
        //     }
        // });
    });

    



    

</script>